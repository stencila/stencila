---
title: Plots
description: |
  Design tokens and examples for customizing plot theming across supported libraries (ECharts, Plotly, Vega-Lite, and programmatic backends).
---

# Usage

Start with these tokens when customizing plots:

- `--plot-color-1` through `--plot-color-12` for categorical palettes
- `--plot-ramp-start` and `--plot-ramp-end` for sequential scales
- `--plot-background`, `--plot-panel`, and `--plot-text-color` for contrast
- `--plot-font-family` and `--plot-font-size` for typography
- `--plot-axis-line-color` and `--plot-grid-color` for axis/grid styling
- `--plot-height-min` and `--plot-aspect-ratio` for sizing

Plot theming is applied by the Stencila runtime when rendering plots. For consistent behavior, set plot tokens on `:root` in your theme CSS. Inline overrides inside a StyledBlock may not affect JS-based plot renderers that read from the document root.

Use `--plot-theme: none` when you want plotting libraries to use their own defaults. The `custom` theme applies the tokens above and dark variants automatically when the color scheme changes.

# Tokens

## Theme Selection

| Token         | Description                                                            | Default Value |
| ------------- | ---------------------------------------------------------------------- | ------------- |
| `--plot-theme` | Theme mode (`custom`, `none`, or a named theme preset if supported)   | `custom`      |

## Dimensions

| Token                 | Description                                   | Default Value                               |
| --------------------- | --------------------------------------------- | ------------------------------------------- |
| `--plot-aspect-ratio` | Width/height ratio                             | `1.5`                                       |
| `--plot-width`        | Absolute width for PNG rendering               | `8in`                                       |
| `--plot-height`       | Height derived from width and aspect ratio     | `calc(var(--plot-width) / var(--plot-aspect-ratio))` |
| `--plot-dpi`           | Dots per inch for PNG rendering               | `100`                                       |
| `--plot-height-min`   | Minimum height for web display                 | `300px`                                     |
| `--plot-height-max`   | Maximum height for web display                 | `800px`                                     |

## Color Palette (Categorical)

| Token               | Default Value            | Dark Default              |
| ------------------- | ------------------------ | ------------------------- |
| `--plot-color-1`    | `var(--color-accent)`     | `var(--color-accent-dark)` |
| `--plot-color-2`    | `hsl(160 70% 45%)`        | `hsl(160 60% 55%)`        |
| `--plot-color-3`    | `hsl(35 95% 55%)`         | `hsl(35 85% 60%)`         |
| `--plot-color-4`    | `hsl(280 70% 60%)`        | `hsl(280 65% 65%)`        |
| `--plot-color-5`    | `hsl(0 70% 55%)`          | `hsl(0 65% 60%)`          |
| `--plot-color-6`    | `hsl(190 65% 45%)`        | `hsl(190 60% 55%)`        |
| `--plot-color-7`    | `hsl(330 70% 60%)`        | `hsl(330 65% 65%)`        |
| `--plot-color-8`    | `hsl(120 55% 40%)`        | `hsl(120 50% 50%)`        |
| `--plot-color-9`    | `hsl(45 85% 50%)`         | `hsl(45 80% 60%)`         |
| `--plot-color-10`   | `hsl(250 55% 55%)`        | `hsl(250 50% 65%)`        |
| `--plot-color-11`   | `hsl(15 75% 55%)`         | `hsl(15 70% 60%)`         |
| `--plot-color-12`   | `hsl(200 50% 45%)`        | `hsl(200 45% 55%)`        |

## Color Ramp

| Token                  | Description                          | Default Value                                                                 |
| ---------------------- | ------------------------------------ | ----------------------------------------------------------------------------- |
| `--plot-ramp-start`    | Sequential ramp start color          | `color-mix(in oklch, var(--color-accent) 5%, var(--plot-background))`          |
| `--plot-ramp-start-dark` | Ramp start in dark mode            | `color-mix(in oklch, var(--color-accent-dark) 5%, var(--plot-background-dark))` |
| `--plot-ramp-end`      | Sequential ramp end color            | `color-mix(in oklch, var(--color-accent) 95%, var(--plot-background))`         |
| `--plot-ramp-end-dark` | Ramp end in dark mode                | `color-mix(in oklch, var(--color-accent-dark) 95%, var(--plot-background-dark))` |

## Shape Palette

| Token             | Default Value |
| ----------------- | ------------- |
| `--plot-shape-1`  | `circle`      |
| `--plot-shape-2`  | `square`      |
| `--plot-shape-3`  | `triangle`    |
| `--plot-shape-4`  | `diamond`     |
| `--plot-shape-5`  | `cross`       |
| `--plot-shape-6`  | `star`        |
| `--plot-shape-7`  | `pentagon`    |
| `--plot-shape-8`  | `hexagon`     |

## Line Types

| Token                | Default Value |
| -------------------- | ------------- |
| `--plot-line-type-1` | `solid`       |
| `--plot-line-type-2` | `dashed`      |
| `--plot-line-type-3` | `dotted`      |
| `--plot-line-type-4` | `dashdot`     |
| `--plot-line-type-5` | `longdash`    |
| `--plot-line-type-6` | `twodash`     |

## Backgrounds and Typography

| Token                     | Description                            | Default Value                          |
| ------------------------- | -------------------------------------- | -------------------------------------- |
| `--plot-background`       | Outer plot background                  | `var(--surface-background)`            |
| `--plot-background-dark`  | Outer background in dark mode          | `var(--surface-background-dark)`       |
| `--plot-panel`            | Inner plot panel background            | `var(--plot-background)`               |
| `--plot-panel-dark`       | Panel background in dark mode          | `var(--plot-background-dark)`          |
| `--plot-text-color`       | Primary plot text color                | `var(--text-color-primary)`            |
| `--plot-text-color-dark`  | Text color in dark mode                | `var(--text-color-primary-dark)`       |
| `--plot-font-family`      | Font stack for plot text               | `var(--font-family-sans)`              |
| `--plot-font-size`        | Base font size for plot text           | `calc(var(--text-font-size) * 0.85)`   |
| `--plot-title-size`       | Plot title size                        | `calc(var(--text-font-size) * 1.0)`    |
| `--plot-subtitle-size`    | Plot subtitle size                     | `calc(var(--text-font-size) * 0.92)`   |

## Panel Border

| Token                | Description                                | Default Value |
| -------------------- | ------------------------------------------ | ------------- |
| `--plot-panel-border`| Show panel border (true/false)             | `true`        |

## Padding

| Token                   | Description                     | Default Value        |
| ----------------------- | ------------------------------- | -------------------- |
| `--plot-padding`        | Base padding around plot         | `var(--space-4)`     |
| `--plot-padding-top`    | Top padding override             | `var(--plot-padding)` |
| `--plot-padding-bottom` | Bottom padding override          | `var(--plot-padding)` |
| `--plot-padding-left`   | Left padding override            | `var(--plot-padding)` |
| `--plot-padding-right`  | Right padding override           | `var(--plot-padding)` |

## Axes and Grid

| Token                     | Description                          | Default Value                              |
| ------------------------- | ------------------------------------ | ------------------------------------------ |
| `--plot-axis-line-color`  | Axis line color                      | `var(--plot-text-color)`                   |
| `--plot-axis-line-color-dark` | Axis line color in dark mode     | `var(--plot-text-color-dark)`              |
| `--plot-axis-line-width`  | Axis line width                      | `var(--border-width-default)`              |
| `--plot-axis-title-size`  | Axis title size                      | `calc(var(--text-font-size) * 0.85)`       |
| `--plot-axis-title-weight`| Axis title font weight               | `var(--font-weight-normal)`                |
| `--plot-axis-title-color` | Axis title color                     | `var(--plot-text-color)`                   |
| `--plot-axis-title-color-dark` | Axis title color in dark mode    | `var(--plot-text-color-dark)`              |
| `--plot-grid-color`       | Gridline color                       | `color-mix(in srgb, var(--text-color-primary) 15%, var(--plot-panel))` |
| `--plot-grid-color-dark`  | Gridline color in dark mode          | `color-mix(in srgb, var(--text-color-primary-dark) 15%, var(--plot-panel-dark))` |
| `--plot-grid-width`       | Gridline width                       | `var(--border-width-default)`              |
| `--plot-grid-x-width`     | Vertical gridline width              | `var(--plot-grid-width)`                   |
| `--plot-grid-y-width`     | Horizontal gridline width            | `var(--plot-grid-width)`                   |

## Legends

| Token                        | Description                        | Default Value                               |
| ---------------------------- | ---------------------------------- | ------------------------------------------- |
| `--plot-legend-background`   | Legend background color            | `var(--plot-panel)`                         |
| `--plot-legend-background-dark` | Legend background in dark mode | `var(--plot-panel-dark)`                    |
| `--plot-legend-text-color`   | Legend text color                  | `var(--plot-text-color)`                    |
| `--plot-legend-text-color-dark` | Legend text color in dark mode  | `var(--plot-text-color-dark)`               |
| `--plot-legend-text-size`    | Legend text size                   | `calc(var(--text-font-size) * 0.85)`        |
| `--plot-legend-border-color` | Legend border color                | `color-mix(in srgb, var(--text-color-primary) 20%, var(--surface-elevated))` |
| `--plot-legend-border-color-dark` | Legend border color in dark mode | `color-mix(in srgb, var(--text-color-primary-dark) 20%, var(--surface-elevated-dark))` |
| `--plot-legend-border-width` | Legend border width                | `var(--border-width-default)`               |
| `--plot-legend-position`     | Legend position                    | `auto`                                      |

## Tooltips

| Token                      | Description                | Default Value                                               |
| -------------------------- | -------------------------- | ----------------------------------------------------------- |
| `--plot-tooltip-background` | Tooltip background        | `color-mix(in srgb, var(--surface-background) 95%, black)`   |
| `--plot-tooltip-background-dark` | Tooltip background in dark mode | `color-mix(in srgb, var(--surface-background-dark) 85%, black)` |
| `--plot-tooltip-text-color` | Tooltip text color        | `var(--text-color-primary)`                                 |
| `--plot-tooltip-text-color-dark` | Tooltip text color in dark mode | `var(--text-color-primary-dark)`                      |

## Marks

| Token                | Description                     | Default Value                    |
| -------------------- | ------------------------------- | -------------------------------- |
| `--plot-point-opacity` | Point fill opacity             | `0`                              |
| `--plot-point-size` | Point size                      | `calc(var(--space-2) * 0.75)`    |
| `--plot-line-width` | Line width                      | `var(--border-width-thick)`      |
| `--plot-area-opacity` | Area fill opacity              | `0.25`                           |

# Examples

## Default Plots

Standard plot styling with no design token overrides:

```css
:root {
  /* No design token overrides */
}
```

::: style

### Echarts

```echarts exec
{
  "series": [
    {
      "name": "Sales",
      "data": [120, 200, 150, 80, 70, 110, 130],
      "type": "line",
      "smooth": true
    },
    {
      "name": "Costs",
      "data": [80, 120, 100, 60, 50, 80, 90],
      "type": "line",
      "smooth": true
    }
  ],
  "xAxis": {
    "type": "category",
    "data": ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"]
  },
  "yAxis": {
    "type": "value"
  }
}
```

:::

## Line Plot

### Echarts

```echarts exec
{
  "series": [
    {
      "name": "Sales",
      "data": [120, 200, 150, 80, 70, 110, 130],
      "type": "line",
      "smooth": true
    },
    {
      "name": "Costs",
      "data": [80, 120, 100, 60, 50, 80, 90],
      "type": "line",
      "smooth": true
    }
  ],
  "xAxis": {
    "type": "category",
    "data": ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"]
  },
  "yAxis": {
    "type": "value"
  }
}
```

### Plotly

```plotly exec
{
  "data": [
    {
      "name": "Sales",
      "x": ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
      "y": [120, 200, 150, 80, 70, 110, 130],
      "type": "scatter",
      "mode": "lines+markers",
      "line": {
        "shape": "spline"
      }
    },
    {
      "name": "Costs",
      "x": ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
      "y": [80, 120, 100, 60, 50, 80, 90],
      "type": "scatter",
      "mode": "lines+markers",
      "line": {
        "shape": "spline"
      }
    }
  ],
  "layout": {
    "xaxis": {
      "title": ""
    },
    "yaxis": {
      "title": ""
    }
  }
}
```

### Vega-Lite

```vegalite exec
{
  "data": {
    "values": [
      {"day": "Mon", "series": "Sales", "value": 120},
      {"day": "Tue", "series": "Sales", "value": 200},
      {"day": "Wed", "series": "Sales", "value": 150},
      {"day": "Thu", "series": "Sales", "value": 80},
      {"day": "Fri", "series": "Sales", "value": 70},
      {"day": "Sat", "series": "Sales", "value": 110},
      {"day": "Sun", "series": "Sales", "value": 130},
      {"day": "Mon", "series": "Costs", "value": 80},
      {"day": "Tue", "series": "Costs", "value": 120},
      {"day": "Wed", "series": "Costs", "value": 100},
      {"day": "Thu", "series": "Costs", "value": 60},
      {"day": "Fri", "series": "Costs", "value": 50},
      {"day": "Sat", "series": "Costs", "value": 80},
      {"day": "Sun", "series": "Costs", "value": 90}
    ]
  },
  "mark": {
    "type": "line",
    "interpolate": "monotone",
    "point": true
  },
  "encoding": {
    "x": {
      "field": "day",
      "type": "ordinal",
      "sort": ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"]
    },
    "y": {
      "field": "value",
      "type": "quantitative"
    },
    "color": {
      "field": "series",
      "type": "nominal"
    }
  }
}
```

## Scatter Plot

### Echarts

```echarts exec
{
  "xAxis": {
    "type": "value"
  },
  "yAxis": {
    "type": "value"
  },
  "series": [
    {
      "name": "Group A",
      "symbolSize": 10,
      "data": [
        [10.0, 8.04],
        [8.07, 6.95],
        [13.0, 7.58],
        [9.05, 8.81],
        [11.0, 8.33],
        [14.0, 7.66],
        [13.4, 6.81]
      ],
      "type": "scatter"
    },
    {
      "name": "Group B",
      "symbolSize": 10,
      "data": [
        [10.0, 9.14],
        [8.07, 8.14],
        [13.0, 8.74],
        [9.05, 8.77],
        [11.0, 9.26],
        [14.0, 8.10],
        [13.4, 7.04]
      ],
      "type": "scatter"
    }
  ]
}
```

### Plotly

```plotly exec
{
  "data": [
    {
      "x": [10.0, 8.07, 13.0, 9.05, 11.0, 14.0, 13.4],
      "y": [8.04, 6.95, 7.58, 8.81, 8.33, 7.66, 6.81],
      "type": "scatter",
      "mode": "markers",
      "name": "Group A",
      "marker": {
        "size": 10
      }
    },
    {
      "x": [10.0, 8.07, 13.0, 9.05, 11.0, 14.0, 13.4],
      "y": [9.14, 8.14, 8.74, 8.77, 9.26, 8.10, 7.04],
      "type": "scatter",
      "mode": "markers",
      "name": "Group B",
      "marker": {
        "size": 10
      }
    }
  ]
}
```

### Vega-Lite

```vegalite exec
{
  "data": {
    "values": [
      {"x": 10.0, "y": 8.04, "group": "Group A"},
      {"x": 8.07, "y": 6.95, "group": "Group A"},
      {"x": 13.0, "y": 7.58, "group": "Group A"},
      {"x": 9.05, "y": 8.81, "group": "Group A"},
      {"x": 11.0, "y": 8.33, "group": "Group A"},
      {"x": 14.0, "y": 7.66, "group": "Group A"},
      {"x": 13.4, "y": 6.81, "group": "Group A"},
      {"x": 10.0, "y": 9.14, "group": "Group B"},
      {"x": 8.07, "y": 8.14, "group": "Group B"},
      {"x": 13.0, "y": 8.74, "group": "Group B"},
      {"x": 9.05, "y": 8.77, "group": "Group B"},
      {"x": 11.0, "y": 9.26, "group": "Group B"},
      {"x": 14.0, "y": 8.10, "group": "Group B"},
      {"x": 13.4, "y": 7.04, "group": "Group B"}
    ]
  },
  "mark": {
    "type": "point",
    "size": 100
  },
  "encoding": {
    "x": {
      "field": "x",
      "type": "quantitative"
    },
    "y": {
      "field": "y",
      "type": "quantitative"
    },
    "color": {
      "field": "group",
      "type": "nominal"
    }
  }
}
```

## Bar Chart

### Echarts

```echarts exec
{
  "xAxis": {
    "type": "category",
    "data": ["Q1", "Q2", "Q3", "Q4"]
  },
  "yAxis": {
    "type": "value"
  },
  "series": [
    {
      "name": "Revenue",
      "data": [320, 450, 390, 520],
      "type": "bar"
    },
    {
      "name": "Profit",
      "data": [120, 180, 150, 220],
      "type": "bar"
    }
  ]
}
```

### Plotly

```plotly exec
{
  "data": [
    {
      "x": ["Q1", "Q2", "Q3", "Q4"],
      "y": [320, 450, 390, 520],
      "type": "bar",
      "name": "Revenue"
    },
    {
      "x": ["Q1", "Q2", "Q3", "Q4"],
      "y": [120, 180, 150, 220],
      "type": "bar",
      "name": "Profit"
    }
  ]
}
```

### Vega-Lite

```vegalite exec
{
  "data": {
    "values": [
      {"quarter": "Q1", "series": "Revenue", "value": 320},
      {"quarter": "Q2", "series": "Revenue", "value": 450},
      {"quarter": "Q3", "series": "Revenue", "value": 390},
      {"quarter": "Q4", "series": "Revenue", "value": 520},
      {"quarter": "Q1", "series": "Profit", "value": 120},
      {"quarter": "Q2", "series": "Profit", "value": 180},
      {"quarter": "Q3", "series": "Profit", "value": 150},
      {"quarter": "Q4", "series": "Profit", "value": 220}
    ]
  },
  "mark": "bar",
  "encoding": {
    "x": {
      "field": "quarter",
      "type": "ordinal"
    },
    "y": {
      "field": "value",
      "type": "quantitative"
    },
    "color": {
      "field": "series",
      "type": "nominal"
    },
    "xOffset": {
      "field": "series"
    }
  }
}
```

## Heatmap

### Echart

```echarts exec
{
  "xAxis": {
    "type": "category",
    "data": ["Mon", "Tue", "Wed", "Thu", "Fri"]
  },
  "yAxis": {
    "type": "category",
    "data": ["Morning", "Afternoon", "Evening"]
  },
  "visualMap": {
    "min": 0,
    "max": 10,
    "calculable": true,
    "orient": "horizontal",
    "left": "center",
    "bottom": "0%"
  },
  "series": [
    {
      "name": "Activity",
      "type": "heatmap",
      "data": [
        [0, 0, 5],
        [0, 1, 7],
        [0, 2, 3],
        [1, 0, 8],
        [1, 1, 9],
        [1, 2, 6],
        [2, 0, 4],
        [2, 1, 8],
        [2, 2, 7],
        [3, 0, 6],
        [3, 1, 9],
        [3, 2, 5],
        [4, 0, 3],
        [4, 1, 7],
        [4, 2, 8]
      ],
      "label": {
        "show": true
      }
    }
  ]
}
```

### Plotly

```plotly exec
{
  "data": [
    {
      "x": ["Mon", "Tue", "Wed", "Thu", "Fri"],
      "y": ["Morning", "Afternoon", "Evening"],
      "z": [
        [5, 8, 4, 6, 3],
        [7, 9, 8, 9, 7],
        [3, 6, 7, 5, 8]
      ],
      "type": "heatmap",
      "showscale": true
    }
  ]
}
```

### Vega-Lite

```vegalite exec
{
  "data": {
    "values": [
      {"day": "Mon", "period": "Morning", "value": 5},
      {"day": "Tue", "period": "Morning", "value": 8},
      {"day": "Wed", "period": "Morning", "value": 4},
      {"day": "Thu", "period": "Morning", "value": 6},
      {"day": "Fri", "period": "Morning", "value": 3},
      {"day": "Mon", "period": "Afternoon", "value": 7},
      {"day": "Tue", "period": "Afternoon", "value": 9},
      {"day": "Wed", "period": "Afternoon", "value": 8},
      {"day": "Thu", "period": "Afternoon", "value": 9},
      {"day": "Fri", "period": "Afternoon", "value": 7},
      {"day": "Mon", "period": "Evening", "value": 3},
      {"day": "Tue", "period": "Evening", "value": 6},
      {"day": "Wed", "period": "Evening", "value": 7},
      {"day": "Thu", "period": "Evening", "value": 5},
      {"day": "Fri", "period": "Evening", "value": 8}
    ]
  },
  "mark": "rect",
  "encoding": {
    "x": {
      "field": "day",
      "type": "ordinal",
      "sort": ["Mon", "Tue", "Wed", "Thu", "Fri"]
    },
    "y": {
      "field": "period",
      "type": "ordinal",
      "sort": ["Morning", "Afternoon", "Evening"]
    },
    "color": {
      "field": "value",
      "type": "quantitative"
    }
  }
}
```

## Pie Chart

### Echarts

```echarts exec
{
  "series": [
    {
      "name": "Distribution",
      "type": "pie",
      "radius": "50%",
      "data": [
        { "value": 335, "name": "Category A" },
        { "value": 234, "name": "Category B" },
        { "value": 154, "name": "Category C" },
        { "value": 135, "name": "Category D" },
        { "value": 148, "name": "Category E" }
      ]
    }
  ]
}
```

### Plotly

```plotly exec
{
  "data": [
    {
      "values": [335, 234, 154, 135, 148],
      "labels": ["Category A", "Category B", "Category C", "Category D", "Category E"],
      "type": "pie",
      "name": "Distribution"
    }
  ]
}
```

### Vega-Lite

```vegalite exec
{
  "data": {
    "values": [
      {"category": "Category A", "value": 335},
      {"category": "Category B", "value": 234},
      {"category": "Category C", "value": 154},
      {"category": "Category D", "value": 135},
      {"category": "Category E", "value": 148}
    ]
  },
  "mark": {
    "type": "arc",
    "innerRadius": 0
  },
  "encoding": {
    "theta": {
      "field": "value",
      "type": "quantitative"
    },
    "color": {
      "field": "category",
      "type": "nominal"
    }
  }
}
```
