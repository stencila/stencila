# Stencila examples

**Mainly for testing.**

## `prompts`

The [`prompts`](prompts) folder is for testing Stencila's specialized AI prompts.

> ⚠️ The sub-folder uses out-of-date, deprecated syntax and prompt names. We will update these examples soon!

## `kernels`

The [`kernels`](kernels) folder is for testing Stencila's execution kernels. Each subfolder contains examples related to one or more executable node types. Within those there are files illustrating the execution of those node types within one or more execution kernels. These examples are generally kept small so that they can be easily read as JSON when executed and outputted in the console e.g.

```console
cargo run -p cli execute examples/kernels/code-chunk/hello-world-bash.md --to yaml
```

The `make kernels` recipe executes all `kernels/**/*.md` files into sibling `kernels/**/*.json` files. At present these are not snapshot tested for changes, but are likely to be in the future.

## `conversion`

Each of the examples in the `conversion` directory is a Stencila `Article` containing examples of a particular type of document node (e.g. `Paragraph`). The primary purpose for these examples is for testing format conversion using Stencila's codecs.

The canonical source for each document is usually the file with the `.json` extension (e.g. the canonical source for the "paragraph" document is `paragraph/paragraph.json`). Other files, with the same file name stem but different extension (e.g. `paragraph/paragraph.yaml`) are generated by Stencila "codecs" when tests are run (and then subsequently checked for changes), and represent the same document, but in a different format. These alternative files thus represent "snapshots" of how each codec is working. This is really useful for automatically implementing regression testing for each codec.

To add a new example create a new folder and create a `.json` file within it containing examples of the document node type you wish to test.

Optionally, add a `config.yaml` file to the folder to use a different file as canonical, and/or set other options for roundtrip-conversion testing. See existing `config.yaml` files and `rust/codecs/tests/examples.rs` for available test config options.

When adding new conversion examples, or updating existing ones, to updated derived files (i.e. non-JSON files) do this,

```console
make examples -C codecs
```
