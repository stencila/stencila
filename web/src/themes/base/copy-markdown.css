/* Site Copy Markdown Component
 *
 * Button to copy the page content as Markdown to clipboard.
 *
 * Structure:
 * - stencila-copy-markdown: Custom element container
 *   - button: Copy button
 *     - span.icon: Icon (via UnoCSS)
 *     - span.text: Button text
 *
 * Design tokens:
 * - --copy-markdown-icon-size: Size of the icon
 * - --copy-markdown-font-size: Font size for the text
 * - --copy-markdown-gap: Space between icon and text
 * - --copy-markdown-color: Button text color
 * - --copy-markdown-color-hover: Button hover color
 * - --copy-markdown-color-success: Success state color
 * - --copy-markdown-color-error: Error state color
 */

:root {
    --copy-markdown-font-family: var(--layout-font-family);
    --copy-markdown-icon-size: 1em;
    --copy-markdown-font-size: var(--font-size-xs);
    --copy-markdown-gap: var(--space-2);
    --copy-markdown-color: var(--text-color-secondary);
    --copy-markdown-color-hover: var(--text-color-primary);
    --copy-markdown-color-success: var(--color-success, #22c55e);
    --copy-markdown-color-error: var(--color-error, #ef4444);
}

/* Container */
stencila-copy-markdown {
    display: inline-block;
    font-family: var(--copy-markdown-font-family);
    font-size: var(--copy-markdown-font-size);
}

/* Button */
stencila-copy-markdown button {
    display: inline-flex;
    align-items: center;
    gap: var(--copy-markdown-gap);
    color: var(--copy-markdown-color);
    background: transparent;
    border: none;
    padding: 0;
    cursor: pointer;
    font: inherit;
    transition: color var(--transition-duration-fast);
}

stencila-copy-markdown button:hover {
    color: var(--copy-markdown-color-hover);
}

stencila-copy-markdown button:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
    border-radius: var(--border-radius-default);
}

/* State-based colors */
stencila-copy-markdown button[data-state="success"] {
    color: var(--copy-markdown-color-success);
}

stencila-copy-markdown button[data-state="error"] {
    color: var(--copy-markdown-color-error);
}

stencila-copy-markdown button[data-state="loading"] {
    cursor: wait;
}

/* Icon - styled via UnoCSS icon classes */
stencila-copy-markdown .icon {
    display: inline-block;
    width: var(--copy-markdown-icon-size);
    height: var(--copy-markdown-icon-size);
    flex-shrink: 0;
}

/* Spinning animation for loading state */
stencila-copy-markdown .animate-spin {
    animation: copy-markdown-spin 1s linear infinite;
}

@keyframes copy-markdown-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Text - inherits styling from button */
