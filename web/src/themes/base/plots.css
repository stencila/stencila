/* Plot styles
 *
 * Purpose: Design tokens for plotting and data visualization theming
 *
 * Notes:
 * - Tokens provide library-agnostic design decisions for charts and plots
 * - Color palette designed for categorical series with perceptual distinctiveness
 * - Override --plot-color-1 through --plot-color-12 for brand-specific palettes
 * - Ramps calculated from --color-accent for automatic theme integration
 * - Heavily references semantic tokens for consistency with document theme
 *
 * Examples: docs/themes/plots.smd
 */

:root {
    /* Palette - Categorical colors for series/marks that need distinct hues
     * First color uses theme accent for automatic theming. Colors 2-12 are
     * sensible defaults. Custom themes should override with brand colors. */
    --plot-color-1: var(--color-accent);
    --plot-color-1-dark: var(--color-accent-dark);

    --plot-color-2: hsl(160 70% 45%);
    --plot-color-2-dark: hsl(160 60% 55%);

    --plot-color-3: hsl(35 95% 55%);
    --plot-color-3-dark: hsl(35 85% 60%);

    --plot-color-4: hsl(280 70% 60%);
    --plot-color-4-dark: hsl(280 65% 65%);

    --plot-color-5: hsl(0 70% 55%);
    --plot-color-5-dark: hsl(0 65% 60%);

    --plot-color-6: hsl(190 65% 45%);
    --plot-color-6-dark: hsl(190 60% 55%);

    --plot-color-7: hsl(330 70% 60%);
    --plot-color-7-dark: hsl(330 65% 65%);

    --plot-color-8: hsl(120 55% 40%);
    --plot-color-8-dark: hsl(120 50% 50%);

    --plot-color-9: hsl(45 85% 50%);
    --plot-color-9-dark: hsl(45 80% 60%);

    --plot-color-10: hsl(250 55% 55%);
    --plot-color-10-dark: hsl(250 50% 65%);

    --plot-color-11: hsl(15 75% 55%);
    --plot-color-11-dark: hsl(15 70% 60%);

    --plot-color-12: hsl(200 50% 45%);
    --plot-color-12-dark: hsl(200 45% 55%);

    /* Ramps - Endpoints for continuous or discrete scales
     * Calculated from accent color. Libraries interpolate between start/end. */
    --plot-ramp-start: color-mix(in oklch, var(--color-accent) 5%, var(--plot-background));
    --plot-ramp-start-dark: color-mix(in oklch, var(--color-accent-dark) 5%, var(--plot-background-dark));

    --plot-ramp-end: color-mix(in oklch, var(--color-accent) 95%, var(--plot-background));
    --plot-ramp-end-dark: color-mix(in oklch, var(--color-accent-dark) 95%, var(--plot-background-dark));

    --plot-ramp-steps: 7;

    /* Semantic Colors - Conventional meanings for change/delta/alerts */
    --plot-positive: var(--color-green-600);
    --plot-positive-dark: var(--color-green-400);

    --plot-negative: var(--color-red-600);
    --plot-negative-dark: var(--color-red-400);

    --plot-warning: var(--color-yellow-600);
    --plot-warning-dark: var(--color-yellow-400);

    /* Plot background color: defaults surface background for panels that appear transparent */
    --plot-background: var(--surface-background);
    --plot-background-dark: var(--surface-background-dark);

    /* Panel background. Defaults to plot background */
    --plot-panel: var(--plot-background);
    --plot-panel-dark: var(--plot-background-dark);

    /* Panel border width controls the top and right borders (completing the box around the plot area).
     * The color comes from --plot-axis-line-color to ensure visual consistency between axis lines
     * and panel borders. Set to 0 to disable top/right borders, >0 to show them. */
    --plot-panel-border-width: var(--border-width-default);

    --plot-muted: var(--text-color-secondary);
    --plot-muted-dark: var(--text-color-secondary-dark);

    --plot-grid: color-mix(in srgb, var(--text-color-primary) 15%, var(--plot-panel));
    --plot-grid-dark: color-mix(in srgb, var(--text-color-primary-dark) 15%, var(--plot-panel-dark));

    --plot-contrast-grid: color-mix(in srgb, var(--text-color-primary) 35%, var(--plot-panel));
    --plot-contrast-grid-dark: color-mix(in srgb, var(--text-color-primary-dark) 35%, var(--plot-panel-dark));

    /* Typography - Font families and scale tokens */
    --plot-text-color: var(--text-color-primary);
    --plot-text-color-dark: var(--text-color-primary-dark);

    --plot-font-family: var(--font-family-sans);
    --plot-font-mono: var(--font-family-mono);

    --plot-font-size: calc(var(--text-font-size) * 0.85);
    --plot-title-size: calc(var(--text-font-size) * 1.0);
    --plot-subtitle-size: calc(var(--text-font-size) * 0.92);
    --plot-legend-size: calc(var(--text-font-size) * 0.85);
    --plot-axis-title-size: calc(var(--text-font-size) * 0.85);

    /* Layout - Paddings, gaps, stroke width */
    --plot-padding-top: var(--space-6);
    --plot-padding-bottom: var(--space-12);
    --plot-padding-right: var(--space-4);
    --plot-padding-left: var(--space-8);

    --plot-gap-x: var(--space-4);
    --plot-gap-y: var(--space-4);

    --plot-stroke-width: var(--border-width-thick);

    /* Axes & Grid - Structure and reference cues */
    --plot-axis-line-color: var(--plot-text-color);
    --plot-axis-line-color-dark: var(--plot-text-color-dark);
    --plot-axis-line-width: var(--border-width-default);

    --plot-tick-color: var(--plot-text-color);
    --plot-tick-color-dark: var(--plot-text-color-dark);
    --plot-tick-width: var(--border-width-default);
    --plot-tick-size: var(--space-1);

    --plot-axis-title-color: var(--plot-text-color);
    --plot-axis-title-color-dark: var(--plot-text-color-dark);

    --plot-grid-color: var(--plot-grid);
    --plot-grid-color-dark: var(--plot-grid-dark);
    --plot-grid-width: var(--border-width-default);
    --plot-grid-x-width: var(--plot-grid-width);
    --plot-grid-y-width: var(--plot-grid-width);
    --plot-grid-dash: 0;

    --plot-zero-line-color: var(--plot-contrast-grid);
    --plot-zero-line-color-dark: var(--plot-contrast-grid-dark);

    /* Legends - Box, markers, spacing */
    --plot-legend-background: var(--plot-panel);
    --plot-legend-background-dark: var(--plot-panel-dark);

    --plot-legend-text-color: var(--plot-text-color);
    --plot-legend-text-color-dark: var(--plot-text-color-dark);

    --plot-legend-border-color: color-mix(in srgb, var(--text-color-primary) 20%, var(--surface-foreground));
    --plot-legend-border-color-dark: color-mix(in srgb, var(--text-color-primary-dark) 20%, var(--surface-foreground-dark));

    --plot-legend-border-width: var(--border-width-default);
    --plot-legend-marker-size: var(--space-2);
    --plot-legend-gap: var(--space-2);
    --plot-legend-position: auto;

    /* Tooltips - Transient UI with high contrast, subtle elevation */
    --plot-tooltip-background: color-mix(in srgb, var(--surface-background) 95%, black);
    --plot-tooltip-background-dark: color-mix(in srgb, var(--surface-background-dark) 85%, black);

    --plot-tooltip-text-color: var(--text-color-primary);
    --plot-tooltip-text-color-dark: var(--text-color-primary-dark);

    --plot-tooltip-border-color: transparent;
    --plot-tooltip-border-width: 0;
    --plot-tooltip-radius: var(--radius-md);
    --plot-tooltip-shadow: var(--shadow-md);
    --plot-tooltip-padding-x: var(--space-2);
    --plot-tooltip-padding-y: calc(var(--space-2) * 0.75);

    /* Marks - Defaults per geometry (line/area/point/bar/candlestick/heatmap) */
    --plot-mark-opacity: 1;

    --plot-line-join: round;
    --plot-line-cap: round;
    --plot-line-width: var(--border-width-thick);
    --plot-line-dash: 0;

    --plot-area-opacity: 0.25;

    --plot-point-size: calc(var(--space-2) * 0.75);
    --plot-point-border-width: var(--border-width-default);

    --plot-bar-gap: 0.2;
    --plot-bar-category-gap: 0.3;
    --plot-bar-radius: var(--radius-sm);
    --plot-bar-border-width: 0;

    --plot-candle-up: var(--plot-positive);
    --plot-candle-up-dark: var(--plot-positive-dark);
    --plot-candle-down: var(--plot-negative);
    --plot-candle-down-dark: var(--plot-negative-dark);
    --plot-candle-wick: var(--plot-muted);
    --plot-candle-wick-dark: var(--plot-muted-dark);

    --plot-heatmap-min: var(--plot-ramp-start);
    --plot-heatmap-min-dark: var(--plot-ramp-start-dark);
    --plot-heatmap-max: var(--plot-ramp-end);
    --plot-heatmap-max-dark: var(--plot-ramp-end-dark);

    /* Interaction & Focus - Cursor guides, hover dimming, selections */
    --plot-crosshair-color: color-mix(in srgb, var(--text-color-primary) 40%, transparent);
    --plot-crosshair-color-dark: color-mix(in srgb, var(--text-color-primary-dark) 40%, transparent);

    --plot-crosshair-width: var(--border-width-default);
    --plot-crosshair-dash: 4 2;

    --plot-hover-opacity: 0.7;

    --plot-focus-outline-color: var(--color-accent);
    --plot-focus-outline-color-dark: var(--color-accent-dark);
    --plot-focus-outline-width: var(--border-width-thick);

    --plot-selection-background: color-mix(in srgb, var(--color-accent) 15%, transparent);
    --plot-selection-background-dark: color-mix(in srgb, var(--color-accent-dark) 15%, transparent);
    --plot-selection-stroke: var(--color-accent);
    --plot-selection-stroke-dark: var(--color-accent-dark);

    /* Motion - Animation timing and easing */
    --plot-anim-duration: 250ms;
    --plot-anim-ease: cubic-bezier(.2, .8, .2, 1);
}

/* Dark Mode Application - System Preference or Explicit User Choice */
@media (prefers-color-scheme: dark) {
    :root:not([data-color-scheme="light"]) {
        --plot-color-1: var(--plot-color-1-dark);
        --plot-color-2: var(--plot-color-2-dark);
        --plot-color-3: var(--plot-color-3-dark);
        --plot-color-4: var(--plot-color-4-dark);
        --plot-color-5: var(--plot-color-5-dark);
        --plot-color-6: var(--plot-color-6-dark);
        --plot-color-7: var(--plot-color-7-dark);
        --plot-color-8: var(--plot-color-8-dark);
        --plot-color-9: var(--plot-color-9-dark);
        --plot-color-10: var(--plot-color-10-dark);
        --plot-color-11: var(--plot-color-11-dark);
        --plot-color-12: var(--plot-color-12-dark);
        --plot-ramp-start: var(--plot-ramp-start-dark);
        --plot-ramp-end: var(--plot-ramp-end-dark);
        --plot-positive: var(--plot-positive-dark);
        --plot-negative: var(--plot-negative-dark);
        --plot-warning: var(--plot-warning-dark);
        --plot-background: var(--plot-background-dark);
        --plot-panel: var(--plot-panel-dark);
        --plot-text-color: var(--plot-text-color-dark);
        --plot-muted: var(--plot-muted-dark);
        --plot-grid: var(--plot-grid-dark);
        --plot-contrast-grid: var(--plot-contrast-grid-dark);
        --plot-axis-line-color: var(--plot-axis-line-color-dark);
        --plot-tick-color: var(--plot-tick-color-dark);
        --plot-axis-title-color: var(--plot-axis-title-color-dark);
        --plot-grid-color: var(--plot-grid-color-dark);
        --plot-zero-line-color: var(--plot-zero-line-color-dark);
        --plot-legend-background: var(--plot-legend-background-dark);
        --plot-legend-text-color: var(--plot-legend-text-color-dark);
        --plot-legend-border-color: var(--plot-legend-border-color-dark);
        --plot-tooltip-background: var(--plot-tooltip-background-dark);
        --plot-tooltip-text-color: var(--plot-tooltip-text-color-dark);
        --plot-candle-up: var(--plot-candle-up-dark);
        --plot-candle-down: var(--plot-candle-down-dark);
        --plot-candle-wick: var(--plot-candle-wick-dark);
        --plot-heatmap-min: var(--plot-heatmap-min-dark);
        --plot-heatmap-max: var(--plot-heatmap-max-dark);
        --plot-crosshair-color: var(--plot-crosshair-color-dark);
        --plot-focus-outline-color: var(--plot-focus-outline-color-dark);
        --plot-selection-background: var(--plot-selection-background-dark);
        --plot-selection-stroke: var(--plot-selection-stroke-dark);
    }
}

:root[data-color-scheme="dark"] {
    --plot-color-1: var(--plot-color-1-dark);
    --plot-color-2: var(--plot-color-2-dark);
    --plot-color-3: var(--plot-color-3-dark);
    --plot-color-4: var(--plot-color-4-dark);
    --plot-color-5: var(--plot-color-5-dark);
    --plot-color-6: var(--plot-color-6-dark);
    --plot-color-7: var(--plot-color-7-dark);
    --plot-color-8: var(--plot-color-8-dark);
    --plot-color-9: var(--plot-color-9-dark);
    --plot-color-10: var(--plot-color-10-dark);
    --plot-color-11: var(--plot-color-11-dark);
    --plot-color-12: var(--plot-color-12-dark);
    --plot-ramp-start: var(--plot-ramp-start-dark);
    --plot-ramp-end: var(--plot-ramp-end-dark);
    --plot-positive: var(--plot-positive-dark);
    --plot-negative: var(--plot-negative-dark);
    --plot-warning: var(--plot-warning-dark);
    --plot-background: var(--plot-background-dark);
    --plot-panel: var(--plot-panel-dark);
    --plot-text-color: var(--plot-text-color-dark);
    --plot-muted: var(--plot-muted-dark);
    --plot-grid: var(--plot-grid-dark);
    --plot-contrast-grid: var(--plot-contrast-grid-dark);
    --plot-axis-line-color: var(--plot-axis-line-color-dark);
    --plot-tick-color: var(--plot-tick-color-dark);
    --plot-axis-title-color: var(--plot-axis-title-color-dark);
    --plot-grid-color: var(--plot-grid-color-dark);
    --plot-zero-line-color: var(--plot-zero-line-color-dark);
    --plot-legend-background: var(--plot-legend-background-dark);
    --plot-legend-text-color: var(--plot-legend-text-color-dark);
    --plot-legend-border-color: var(--plot-legend-border-color-dark);
    --plot-tooltip-background: var(--plot-tooltip-background-dark);
    --plot-tooltip-text-color: var(--plot-tooltip-text-color-dark);
    --plot-candle-up: var(--plot-candle-up-dark);
    --plot-candle-down: var(--plot-candle-down-dark);
    --plot-candle-wick: var(--plot-candle-wick-dark);
    --plot-heatmap-min: var(--plot-heatmap-min-dark);
    --plot-heatmap-max: var(--plot-heatmap-max-dark);
    --plot-crosshair-color: var(--plot-crosshair-color-dark);
    --plot-focus-outline-color: var(--plot-focus-outline-color-dark);
    --plot-selection-background: var(--plot-selection-background-dark);
    --plot-selection-stroke: var(--plot-selection-stroke-dark);
}