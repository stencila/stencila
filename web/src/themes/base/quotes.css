/* Quote styles
 *
 * Schema: [QuoteBlock](../../schema/QuoteBlock.yaml) [QuoteInline](../../schema/QuoteInline.yaml)
 * Purpose: Block and inline quotations with optional citation information.
 *
 * DOM Structure (Block):
 * <stencila-quote-block id=xxx depth=N ancestors=Parent>
 *     <blockquote slot=content>
 *         <stencila-paragraph id=xxx depth=N+1 ancestors=Parent.QuoteBlock>
 *             <p slot=content>
 *                 <stencila-text id=xxx depth=N+2 ancestors=Parent.QuoteBlock.Paragraph>Quote content</stencila-text>
 *             </p>
 *         </stencila-paragraph>
 *     </blockquote>
 * </stencila-quote-block>
 *
 * DOM Structure (Inline):
 * <stencila-quote-inline id=xxx depth=N ancestors=Parent>
 *     <q>
 *         <stencila-text id=xxx depth=N+1 ancestors=Parent.QuoteInline>Inline quote text</stencila-text>
 *     </q>
 * </stencila-quote-inline>
 *
 * Key Attributes:
 * - No specific attributes beyond standard id, depth, ancestors
 *
 * Slots:
 * - content: Contains <blockquote> (block) or <q> element (inline) with quoted content
 *
 * Notes:
 * - QuoteBlock creates standalone quoted sections with visual emphasis
 * - QuoteInline embeds quotes within paragraph text flow
 * - Block quotes support multiple paragraphs and nested quotes
 *
 * Examples: examples/conversion/quote-block/quote-block.dom.html
 *           examples/conversion/quote-inline/quote-inline.dom.html
 */

:root {
    --quote-background: var(--surface-sunken);
    --quote-background-dark: var(--surface-sunken-dark);

    --quote-border-width: 3px;
    --quote-border-color: var(--border-color-emphasis);
    --quote-border-color-dark: var(--border-color-emphasis-dark);
    --quote-border-radius: var(--border-radius-default);

    --quote-spacing: var(--content-spacing);
    --quote-padding: calc(var(--content-spacing) * 0.5);
    --quote-spacing-horizontal: calc(var(--content-spacing) * 0.75);
    --quote-spacing-horizontal-mobile: 0;

    --quote-font-style: italic;
    --quote-font-size: calc(var(--text-font-size) * 1.125);

    --quote-inline-font-style: inherit;
    --quote-inline-quotes: auto;
}

/* Dark Mode Application - System Preference */
@media (prefers-color-scheme: dark) {
    :root:not([data-color-scheme="light"]) {
        --quote-background: var(--quote-background-dark);
        --quote-border-color: var(--quote-border-color-dark);
    }
}

/* Dark Mode Application - Explicit User Choice */
:root[data-color-scheme="dark"] {
    --quote-background: var(--quote-background-dark);
    --quote-border-color: var(--quote-border-color-dark);
}

stencila-quote-block {
    blockquote {
        border-left: var(--quote-border-width) solid var(--quote-border-color);
        background-color: var(--quote-background);
        padding: var(--quote-padding);
        margin: var(--quote-spacing) var(--quote-spacing-horizontal);
        font-style: var(--quote-font-style);
        font-size: var(--quote-font-size);
        border-radius: var(--quote-border-radius);
    }

    /* Remove default top margin from first paragraph to align with quote padding */
    blockquote stencila-paragraph:first-child p {
        margin-top: 0;
    }
}

stencila-quote-inline {
    q {
        font-style: var(--quote-inline-font-style);
        quotes: var(--quote-inline-quotes);
    }
}

/* Mobile adjustments - Full-width quotes on small screens
 * Override horizontal spacing to 0 for edge-to-edge appearance */
@media (max-width: 640px) {
    :root {
        --quote-spacing-horizontal: var(--quote-spacing-horizontal-mobile);
    }
}