/* Math styles
 *
 * Schema: [MathBlock](../../schema/MathBlock.yaml) [MathInline](../../schema/MathInline.yaml)
 * Purpose: Mathematical expressions and equations in both block and inline contexts.
 *
 * DOM Structure (Block):
 * <stencila-math-block id=xxx depth=N ancestors=Parent code='2 \pi r^2' math-language=tex label=1 label-automatically=true>
 *     <div slot=mathml>
 *         <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
 *             <mn>2</mn>
 *             <mi>π</mi>
 *             <msup>
 *                 <mi>r</mi>
 *                 <mn>2</mn>
 *             </msup>
 *         </math>
 *     </div>
 *     <div slot=label>(1)</div>
 * </stencila-math-block>
 *
 * DOM Structure (Inline):
 * <stencila-math-inline id=xxx depth=N ancestors=Parent code='2 \pi r^2' math-language=asciimath>
 *     <span slot=mathml>
 *         <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
 *             <mn>2</mn>
 *             <mi>π</mi>
 *             <msup>
 *                 <mi>r</mi>
 *                 <mn>2</mn>
 *             </msup>
 *         </math>
 *     </span>
 * </stencila-math-inline>
 *
 * Key Attributes:
 * - code: The mathematical expression/equation source code (from [Math](../../schema/Math.yaml))
 * - math-language: Language format string (tex, asciimath, mathml, etc.)
 * - label: Short label for the math block (MathBlock only)
 * - label-automatically: Whether label should be auto-updated (MathBlock only)
 *
 * Slots:
 * - mathml: Contains the rendered MathML content in a div (block) or span (inline)
 *
 * Notes:
 * - MathBlock creates display-style equations with optional labeling/numbering
 * - MathInline embeds math within text flow with no labels
 * - Input code is converted to MathML for rendering
 * - Supports multiple input formats: TeX/LaTeX, ASCIIMath, and MathML
 *
 * Examples: examples/rendering/math-block/math-block.html
 *           examples/rendering/math-inline/math-inline.html
 */

:root {
    /* Typography */
    --math-font-family: var(--font-family-math);

    /* Spacing */
    --math-spacing: var(--content-spacing);

    /* Label styling */
    --math-label-gap: var(--space-4);
    --math-label-font-weight: var(--label-font-weight);
    --math-label-font-style: var(--label-font-style);
    --math-label-color: var(--label-color);
}

stencila-math-block {
    display: flex;
    justify-content: space-between;
    align-items: center;

    gap: var(--math-label-gap);
    margin-top: var(--math-spacing);
    margin-bottom: var(--math-spacing);

    [slot="mathml"] {
        flex: 1;
        text-align: center;

        math {
            font-family: var(--math-font-family);
        }
    }

    [slot="images"] {
        flex: 1;
        text-align: center;
    }

    [slot="label"] {
        flex: 0 0 auto;

        font-weight: var(--math-label-font-weight);
        font-style: var(--math-label-font-style);
        color: var(--math-label-color);
    }
}

stencila-math-inline {
    [slot="mathml"] math {
        font-family: var(--math-font-family);
    }

    [slot="images"] img {
        max-height: 1.1em;
        vertical-align: middle;
    }
}