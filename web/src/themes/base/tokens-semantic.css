/* Semantic Design Tokens
 *
 * Theme API tokens that provide meaningful aliases referencing primitive values
 * and also include automatic dark mode and responsive variants that provide
 * contextual meaning and behavior.
 *
 * IMPORTANT: These are the tokens to override in custom themes. They provide
 * automatic dark mode and responsive behavior "for free" through suffix variants:
 * - Dark mode: -dark suffix (e.g., --text-color-primary-dark)
 * - Responsive: -tablet/-mobile suffixes (e.g., --content-spacing-mobile)
 *
 * Architecture: Primitives → Semantics → Components
 * Usage: Always use semantic tokens in component CSS, never primitives directly.
 */

:root {
    /* Layout Tokens */
    --content-width: 65ch;
    --content-width-mobile: 100%;
    --content-width-print: 100%;

    /* Content Breakout - allows tables, figures, code, etc. to exceed content width */
    --content-breakout-width: min(90vw, 1100px);
    --content-breakout-width-mobile: 100%;
    --content-breakout-width-print: 100%;

    /* Spacing Semantic Tokens with responsive and print variants */
    --content-spacing: var(--space-8);
    --content-spacing-tablet: var(--space-6);
    --content-spacing-mobile: var(--space-4);
    --content-spacing-print: var(--space-2);

    /* Dark Mode Colors - Optimized for Long-Form Reading
     *
     * Research shows pure black (#000) backgrounds create harsh contrast causing
     * eye strain and fatigue, especially problematic for extended reading sessions.
     *
     * Industry Standards:
     * - Material Design: #121212 background
     * - Figma: #1E1E1E background
     * - YouTube: #181818 background
     * - Recommended text: #E0E0E0 to #D0D0D0 (not pure white)
     *
     * Our Approach:
     * We use gray-850 (#1e1e1e) for background and gray-300 (#d4d4d4) for primary text.
     * This provides contrast ratio exceeding WCAG AAA (7:1) while being
     * significantly more comfortable than pure black/white for long-form content.
     *
     * WCAG Contrast Requirements:
     * - AA Standard: 4.5:1 for normal text, 3:1 for large text (18pt+/14pt+ bold)
     * - AAA Standard: 7:1 for normal text, 4.5:1 for large text
     *
     * Testing Contrast:
     * Use WebAIM Contrast Checker: https://webaim.org/resources/contrastchecker/
     * Or browser DevTools accessibility panel to verify custom color choices.
     *
     * For Theme Designers:
     * When customizing, avoid pure black (#000000) backgrounds and pure white
     * (#FFFFFF) text. Test all color combinations for WCAG AA compliance minimum.
     * For content-heavy applications, prioritize readability over aesthetics.
     */

    /* Surface Colors - derived from background using color-mix */
    --surface-background: var(--color-gray-50);
    --surface-background-dark: var(--color-gray-850);
    --surface-background-print: white;

    --surface-sunken: color-mix(in srgb, var(--surface-background) 95%, black);
    --surface-sunken-dark: color-mix(in srgb, var(--surface-background-dark) 98%, black);
    --surface-sunken-print: white;

    --surface-elevated: color-mix(in srgb, var(--surface-background) 50%, white);
    --surface-elevated-dark: color-mix(in srgb, var(--surface-background-dark) 99%, white);
    --surface-elevated-print: white;

    --surface-raised: color-mix(in srgb, var(--surface-background) 25%, white);
    --surface-raised-dark: color-mix(in srgb, var(--surface-background-dark) 98%, white);
    --surface-raised-print: white;

    /* Overlay/Backdrop - for modals, sidebars, and other overlay surfaces */
    --overlay-background: rgba(0, 0, 0, 0.5);
    --overlay-background-dark: rgba(0, 0, 0, 0.7);

    /* Text Colors - Hierarchy and emphasis with dark and print variants */
    --text-color-primary: var(--color-gray-800);
    --text-color-primary-dark: var(--color-gray-300);
    --text-color-primary-print: black;
    --text-color-secondary: var(--color-gray-700);
    --text-color-secondary-dark: var(--color-gray-400);
    --text-color-secondary-print: var(--color-gray-700);
    --text-color-muted: var(--color-gray-500);
    --text-color-muted-dark: var(--color-gray-500);
    --text-color-muted-print: var(--color-gray-600);
    --text-color-inverse: var(--color-gray-50);
    --text-color-inverse-dark: var(--color-gray-900);

    /* Border Colors and Properties with dark and print variants */
    --border-color-default: var(--color-gray-300);
    --border-color-default-dark: var(--color-gray-600);
    --border-color-default-print: var(--color-gray-300);
    --border-color-muted: var(--color-gray-200);
    --border-color-muted-dark: var(--color-gray-700);
    --border-color-emphasis: var(--color-gray-400);
    --border-color-emphasis-dark: var(--color-gray-500);
    --border-width-default: 1px;
    --border-width-thick: 2px;
    --border-radius-default: var(--radius-md);

    /* Theme accent colors */
    --color-accent: var(--color-blue-600);
    --color-accent-dark: var(--color-blue-500);
    --color-accent-muted: var(--color-blue-100);
    --color-accent-muted-dark: var(--color-blue-950);

    /* Main Document Font */
    --text-font-family: var(--font-family-serif);

    /* Typography Semantic Tokens with responsive and print variants */
    --text-font-size: var(--font-size-md);
    --text-font-size-tablet: var(--font-size-md);
    --text-font-size-mobile: var(--font-size-md);
    --text-font-size-print: 10pt;
    --text-line-height: var(--line-height-normal);
    --text-line-height-mobile: var(--line-height-relaxed);
    --text-line-height-print: 1.4;
    --text-letter-spacing: 0;

    --transition-duration-fastest: 100ms;
    --transition-duration-fast: 150ms;
    --transition-duration-base: 250ms;
    --transition-duration-slow: 350ms;
    --transition-duration-slowest: 500ms;

    /* Responsive Breakpoints - Documentation only */
    /* These document the breakpoints used in token variants and media queries.
       Note: CSS doesn't allow variables in media queries, so these are mainly
       for reference. Developers can use them in calculations if needed. */
    --breakpoint-mobile: 640px;
    /* Used for -mobile variants */
    --breakpoint-tablet: 768px;
    /* Used for -tablet variants */
}

/* Dark Mode Application - System Preference */
@media (prefers-color-scheme: dark) {
    :root:not([data-color-scheme="light"]) {
        --surface-background: var(--surface-background-dark);
        --surface-elevated: var(--surface-elevated-dark);
        --surface-raised: var(--surface-raised-dark);
        --surface-sunken: var(--surface-sunken-dark);
        --overlay-background: var(--overlay-background-dark);

        --text-color-primary: var(--text-color-primary-dark);
        --text-color-secondary: var(--text-color-secondary-dark);
        --text-color-muted: var(--text-color-muted-dark);
        --text-color-inverse: var(--text-color-inverse-dark);

        --border-color-default: var(--border-color-default-dark);
        --border-color-muted: var(--border-color-muted-dark);
        --border-color-emphasis: var(--border-color-emphasis-dark);

        --color-accent: var(--color-accent-dark);
        --color-accent-muted: var(--color-accent-muted-dark);
        --color-info: var(--color-info-dark);
        --color-info-muted: var(--color-info-muted-dark);
        --color-success: var(--color-success-dark);
        --color-success-muted: var(--color-success-muted-dark);
        --color-warning: var(--color-warning-dark);
        --color-warning-muted: var(--color-warning-muted-dark);
        --color-error: var(--color-error-dark);
        --color-error-muted: var(--color-error-muted-dark);
    }
}

/* Dark Mode Application - Explicit User Choice */
:root[data-color-scheme="dark"] {
    --surface-background: var(--surface-background-dark);
    --surface-elevated: var(--surface-elevated-dark);
    --surface-raised: var(--surface-raised-dark);
    --surface-sunken: var(--surface-sunken-dark);
    --overlay-background: var(--overlay-background-dark);

    --text-color-primary: var(--text-color-primary-dark);
    --text-color-secondary: var(--text-color-secondary-dark);
    --text-color-muted: var(--text-color-muted-dark);
    --text-color-inverse: var(--text-color-inverse-dark);

    --border-color-default: var(--border-color-default-dark);
    --border-color-muted: var(--border-color-muted-dark);
    --border-color-emphasis: var(--border-color-emphasis-dark);

    --color-accent: var(--color-accent-dark);
    --color-accent-muted: var(--color-accent-muted-dark);
    --color-info: var(--color-info-dark);
    --color-info-muted: var(--color-info-muted-dark);
    --color-success: var(--color-success-dark);
    --color-success-muted: var(--color-success-muted-dark);
    --color-warning: var(--color-warning-dark);
    --color-warning-muted: var(--color-warning-muted-dark);
    --color-error: var(--color-error-dark);
    --color-error-muted: var(--color-error-muted-dark);
}

/* Responsive Application - Tablet Breakpoint (768px) */
@media (max-width: 768px) {
    :root {
        --content-spacing: var(--content-spacing-tablet);

        --text-font-size: var(--text-font-size-tablet);
    }
}

/* Responsive Application - Mobile Breakpoint (640px) */
@media (max-width: 640px) {
    :root {
        --content-spacing: var(--content-spacing-mobile);
        --content-width: var(--content-width-mobile);
        --content-breakout-width: var(--content-breakout-width-mobile);

        --text-font-size: var(--text-font-size-mobile);
        --text-line-height: var(--text-line-height-mobile);
    }
}

/* Print Application - High specificity to override dark mode */
@media print {
    :root,
    :root[data-color-scheme="dark"],
    :root:not([data-color-scheme="light"]) {
        --content-spacing: var(--content-spacing-print);
        --content-width: var(--content-width-print);
        --content-breakout-width: var(--content-breakout-width-print);

        --surface-sunken: var(--surface-sunken-print);
        --surface-background: var(--surface-background-print);
        --surface-elevated: var(--surface-elevated-print);
        --surface-raised: var(--surface-raised-print);

        --text-font-size: var(--text-font-size-print);
        --text-line-height: var(--text-line-height-print);

        --text-color-primary: var(--text-color-primary-print);
        --text-color-secondary: var(--text-color-secondary-print);
        --text-color-muted: var(--text-color-muted-print);

        --border-color-default: var(--border-color-default-print);
    }
}