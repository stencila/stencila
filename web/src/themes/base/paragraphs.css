/* Paragraph styles
 *
 * Schema: [Paragraph](../../schema/Paragraph.yaml)
 * Purpose: Text paragraphs, the fundamental unit of prose content.
 *
 * DOM Structure:
 * <stencila-paragraph id=xxx depth=N ancestors=Parent>
 *     <p slot=content>
 *         <stencila-text id=xxx depth=N+1 ancestors=Parent.Paragraph>Paragraph text content.</stencila-text>
 *     </p>
 * </stencila-paragraph>
 *
 * Key Attributes:
 * - No specific attributes beyond standard id, depth, ancestors
 *
 * Slots:
 * - content: Contains the HTML p element with text and inline content
 *
 * Notes:
 * - Paragraphs contain text and inline elements (links, emphasis, etc.)
 *
 * Examples: examples/conversion/paragraph/paragraph.dom.html
 */

:root {
    /* Paragraph Spacing - Inherits automatic responsive behavior from semantic token */
    --paragraph-spacing: var(--content-spacing);

    /* Paragraph Typography - Colors automatically inherit dark mode from text colors */
    --paragraph-line-height: var(--text-line-height);
    --paragraph-text-align: left;
    --paragraph-text-indent: 0;
    --paragraph-hyphens: none;
    --paragraph-orphans: 2;
    --paragraph-widows: 2;
    --paragraph-text-wrap: auto;

    /* Lead Paragraph Enhancement - Applied to first paragraph after headings */
    --paragraph-lead-font-size: inherit;
    --paragraph-lead-font-weight: inherit;
    --paragraph-lead-text-indent: 0;
}

stencila-paragraph {
    display: block;

    /* Spacing */
    margin-top: var(--paragraph-spacing);
    margin-bottom: 0;

    p {
        /* Browser normalization */
        margin: 0;

        /* Typography control */
        line-height: var(--paragraph-line-height);
        text-align: var(--paragraph-text-align);
        text-indent: var(--paragraph-text-indent);
        hyphens: var(--paragraph-hyphens);

        /* Print control */
        orphans: var(--paragraph-orphans);
        widows: var(--paragraph-widows);
        text-wrap: var(--paragraph-text-wrap);
    }
}

/* Lead paragraphs (first paragraph after headings) */
stencila-heading+stencila-paragraph p {
    font-size: var(--paragraph-lead-font-size);
    font-weight: var(--paragraph-lead-font-weight);
    text-indent: var(--paragraph-lead-text-indent);
}

@media print {
    stencila-paragraph p {
        /* Ensure proper paragraph breaks for print */
        page-break-inside: avoid;
        break-inside: avoid;

        /* Optimize text rendering for print */
        text-rendering: optimizeLegibility;
    }
}