<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Archiving and Interchange DTD v1.1d3 20150301//EN"  "JATS-archivearticle1.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink">
  <front>
    <article-meta>
      <title-group>
        <article-title>Reproducible JATS</article-title>
        <trans-title-group xml:lang="de">
          <trans-title>Texture Küchenspüle</trans-title>
        </trans-title-group>
        <trans-title-group xml:lang="cz">
          <trans-title>Czech title translation</trans-title>
        </trans-title-group>
      </title-group>
      <contrib-group>
        <contrib contrib-type="author" aff-ids="aff1 aff2">
          <x specific-use="display">John Doe</x>
          <name>
            <surname>Doe</surname>
            <given-names>John</given-names>
          </name>
        </contrib>
        <contrib contrib-type="author" aff-ids="aff2">
          <x specific-use="display">Jane Doe</x>
          <name>
            <surname>Doe</surname>
            <given-names>Jane</given-names>
          </name>
        </contrib>
      </contrib-group>
      <aff id="aff1">
        <x specific-use="display">Foo University, London, UK</x>
        <institution>Foo University</institution>
        <city>London</city>
        <country>UK</country>
      </aff>
      <aff id="aff2">
        <x specific-use="display">Bar Ltd, London, UK</x>
        <institution>Bar Ltd</institution>
        <city>London</city>
        <country>UK</country>
      </aff>
      <!-- Publication date, as required by SciELO -->
      <pub-date publication-format="print" date-type="pub" iso-8601-date="1999-01-29">
          <day>29</day>
          <month>01</month>
          <year>1999</year>
      </pub-date>
      <!-- Pages elements, as required by SciELO -->
      <volume>318</volume>
      <issue>7187</issue>
      <fpage>837</fpage>
      <lpage>841</lpage>
      <history>
        <date date-type="received" iso-8601-date="1998-01-05">
          <day>05</day>
          <month>01</month>
          <year>1998</year>
        </date>
        <date date-type="rev-request" iso-8601-date="1998-03-14">
          <day>14</day>
          <month>03</month>
          <year>1998</year>
        </date>
        <date date-type="rev-received" iso-8601-date="1998-05-24">
          <day>24</day>
          <month>05</month>
          <year>1998</year>
        </date>
        <date date-type="accepted" iso-8601-date="1998-06-06">
          <day>06</day>
          <month>06</month>
          <year>1998</year>
        </date>
      </history>
      <abstract>
        <p><bold>Please note, this article uses content from different open access articles (eLife) for demoing purposes</bold>. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi id nibh id ipsum ultrices vehicula in et ante. <xref ref-type="bibr" rid="r2"/></p>
      </abstract>
      <trans-abstract xml:lang="de">
        <p>Deutsche Übersetzung</p>
      </trans-abstract>
    </article-meta>
  </front>
  <body>
    <sec>
      <title>Quisque malesuada</title>
      <p>Lorem ipsum dolor <ext-link ext-link-type="uri" xlink:href="http://substance.io">sit amet</ext-link>. Integer eget augue consequat, rhoncus velit nec, vehicula purus. Quisque malesuada feugiat tempus. Suspendisse massa neque, mollis at commodo vel, ornare vel felis. Nulla sit amet sodales erat. Suspendisse potenti. Suspendisse porttitor ullamcorper mollis. Sed tincidunt, leo nec egestas tincidunt, ipsum sapien efficitur magna, sit amet tempor sem urna vitae dui.</p>
      <p>Stencila is the office suite for reproducible research. With Stencila you can produce rich computation-intensive publications without requiring programming knowledge.</p>
      <p>Cells are the excutable (dynamic) bits of a document. They produce a result as you type. Try to modify the following cell:</p>
      <code specific-use="cell"><named-content><alternatives>
        <code specific-use="source" language="mini"><![CDATA[3 * 0.25]]></code>
        <code specific-use="output" language="json"><![CDATA[{}]]></code>
      </alternatives></named-content></code>
      <code specific-use="cell"><named-content><alternatives>
        <code specific-use="source" language="mini"><![CDATA[mini_var = 40 + 2]]></code>
        <code specific-use="output" language="json"><![CDATA[{}]]></code>
      </alternatives></named-content></code>

      <p>A JavaScript cell:</p>
      <code specific-use="cell"><named-content><alternatives>
        <code specific-use="source" language="js"><![CDATA[let js_var = 2.2]]></code>
        <code specific-use="output" language="json"><![CDATA[{}]]></code>
      </alternatives></named-content></code>

      <p>A R cell:</p>
      <code specific-use="cell"><named-content><alternatives>
        <code specific-use="source" language="r"><![CDATA[r_var <- 3.3]]></code>
        <code specific-use="output" language="json"><![CDATA[{}]]></code>
      </alternatives></named-content></code>

      <p>A Python cell:</p>
      <code specific-use="cell"><named-content><alternatives>
        <code specific-use="source" language="py"><![CDATA[py_var = 4.4]]></code>
        <code specific-use="output" language="json"><![CDATA[{}]]></code>
      </alternatives></named-content></code>

      <p>A SQL cell:</p>
      <code specific-use="cell"><named-content><alternatives>
        <code specific-use="source" language="sql"><![CDATA[sql_var = SELECT julianday("now")]]></code>
        <code specific-use="output" language="json"><![CDATA[{}]]></code>
      </alternatives></named-content></code>

      <p>Cells use a very simple expression language called <italic>Mini</italic> to allow you to perform common data analysis and visualisation tasks within the document.</p>
      <p>You can edit this document just like in a traditional word processor. Press <monospace>enter</monospace> to start a new paragraph or insert a table or cell.</p>
      <p>Here's a cell that reads some fictitous ice cream sales data from a CSV (comma separated values) string using the <monospace>csv</monospace> function.</p>
      <code specific-use="cell"><named-content><alternatives>
        <!--
        <code specific-use="source" language="mini"><![CDATA[data = data!A1:C10]]></code>
        -->
        <code specific-use="source" language="mini"><![CDATA[data = csv('temp,sunny,sales
18,no,50
20,yes,126
24,yes,118
23,yes,126
26,yes,280
25,no,102
20,no,93
17,no,32
18,yes,103
28,yes,246
')]]></code>
        <code specific-use="output" language="json"><![CDATA[{}]]></code>
      </alternatives></named-content></code>
      <p>The variable <monospace>data</monospace> is a table and is now a part of of the document scope - the set of variables the document knows about. Let's filter the table to only show data for days when the temperature is less than 20 degrees.</p>
      <code specific-use="cell"><named-content><alternatives>
            <code specific-use="source" language="mini"><![CDATA[filter(data,'temp < 20')]]></code>
            <code specific-use="output" language="json"><![CDATA[{}]]></code>
      </alternatives></named-content></code>
      <p>Notice that because we didn't assign the result of filter to a value the output gets displayed. You can change this behaviour by setting the cell's output visibility to <monospace>Hide</monospace>.</p>
      <!--
      <p>Cells can also be used to plot your data. The <monospace>plot</monospace> function is a generic function that allows you to visualize data using various visual encodings.</p>
      <code specific-use="cell"><named-content><alternatives>
        <code specific-use="source" language="mini"><![CDATA[plot(data, 'points', x='temp', y='sales', color='sunny')]]></code>
        <code specific-use="output" language="json"><![CDATA[{}]]></code>
      </alternatives></named-content></code>
      <p>When you want to combine several functions in one cell the pipe operator can produce more readable expressions:</p>
      <code specific-use="cell"><named-content><alternatives>
        <code specific-use="source" language="mini"><![CDATA[filtered_data = filter(data, 'temp<=20')]]></code>
        <code specific-use="output" language="json"><![CDATA[{}]]></code>
      </alternatives></named-content></code>
      <code specific-use="cell"><named-content><alternatives>
        <code specific-use="source" language="mini"><![CDATA[squares(filtered_data, x='temp',y='sales',color='sunny')
| titles(x='Temperature', y='Ice Creams Sold', color='Sunny Day')
| theme({square: {size: 120}})]]></code>
        <code specific-use="output" language="json"><![CDATA[{}]]></code>
      </alternatives></named-content></code>
      -->

      <!-- Reproducible figure -->
      <fig id="f1" fig-type="repro-fig">
        <caption>
          <title>Biodiversity on Mars</title>
          <p>Lorem ipsum</p>
        </caption>
        <alternatives>
          <code specific-use="source" language="mini"><![CDATA[scatter3d(co_occurence_matrix)]]></code>
          <code specific-use="output" language="json"><![CDATA[{"execution_time": 1, "value_type": "plot-ly", "value": {} }]]></code>
        </alternatives>
        <graphic specific-use="output" xlink:href="89f8b53e361f.png"/>
      </fig>
    </sec>
  </body>
  <back>
    <fn-group>
      <fn id="fn1">
        <p>Lorem ipsum dolor sit amet, ea ludus intellegat his, graece fastidii phaedrum ea mea, ne duo esse omnium. Ne mel quas quodsi. Ea pri semper nostrum necessitatibus. Mea salutatus gloriatur persecuti eu, augue oportere efficiendi at eum. Ex eam mutat falli dicit.</p>
      </fn>
    </fn-group>
    <ref-list>
      <title>References</title>
    </ref-list>
  </back>
</article>
